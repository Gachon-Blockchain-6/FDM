name: Discord PR Notification

on:
  pull_request:
    types: [opened, reopened, edited]

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send PR info to Discord
        env:
          DISCORD_WEBHOOK: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: |
          curl -H "Content-Type: application/json" -X POST -d "{
            \"username\": \"GitHub Bot\",
            \"avatar_url\": \"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png\",
            \"embeds\": [{
              \"title\": \"ìƒˆë¡œìš´ Pull Requestê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!\",
              \"description\": \"**ì œëª©**: ${{ github.event.pull_request.title }}\\n**ì‘ì„±ì**: ${{ github.actor }}\\n\\n**ë‚´ìš©**:\\n${{ github.event.pull_request.body }}\\n\\nğŸ”— [PR ë°”ë¡œê°€ê¸°](${{ github.event.pull_request.html_url }})\",
              \"color\": 5814783
            }]
          }" "$DISCORD_WEBHOOK"
